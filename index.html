<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Phocus</title>
    <!--  IE Stuff-->
    <meta name="application-name" content="Phocus" />
    <link rel="shortcut icon" href="http://webapps.esu10.org/images/icons/clock.ico" />
    <meta name="msapplication-tooltip" content="A tool that generates sounds at a random time." />
    <meta name="msapplication-navbutton-color" content="#588FBF" />
    <meta name="msapplication-starturl" content="/index.html" />
    <!--  apple stuff-->
    <link rel="apple-touch-icon" href="http://webapps.esu10.org/images/icons/clock.png" />
    <link rel="apple-touch-startup-image" href="http://webapps.esu10.org/images/icons/clock.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-touch-fullscreen" content="YES" />
    <meta name="viewport" content="width=device-width" />
    <meta name="viewport" content="user-scalable=false" />
    <meta name="viewport" content="orientation=portrait" />
    <script src="Scripts/jquery-2.0.3.min.js"></script>
    <script type="text/javascript">
         var sounds = [];
    // bike horn
    sounds.push("/sounds/bike_horn.mp3");
   // little car
   sounds.push("/sounds/car_horn.mp3");
    // boing
    sounds.push("sounds/boing.mp3");
    // eye blink
     sounds.push("sounds/eye_blink.mp3");
     //jeep horn
     sounds.push("sounds/jeephorn.mp3");
     //library bell
      sounds.push("sounds/library_bell.mp3");
      
        var waitTime = 0;
        var maxTime;
        var minTime;
        var myTimeout;
        var selectedsoundids = [];
        $('document').ready(function () {
            $('#divArea').css("background-color", "black");
            $('#divArea').css("color", "white");
            $('#divArea').click(function () {
                if (waitTime==0){
                    beep();
                    //setTimeout(beep, 1000);
                }
                else{
                    waitTime = 0
                    clearTimeout(myTimeout);
                    $('#divArea').html("Start");
                }                
            })
            $('#txtMin').change( function(){
                //alert( parseInt( $('#txtMin').val()))
                if (isNaN(parseInt( $('#txtMin').val()))) 
                {$('#txtMin').val(45)}
                 else
                {$('#txtMin').val(parseInt( $('#txtMin').val()))}
            })
            $('#txtMax').change( function(){
                //alert( parseInt( $('#txtMax').val()))
                if (isNaN(parseInt( $('#txtMax').val()))) 
                {$('#txtMax').val(100)}
                 else
                {
                    if (parseInt( $('#txtMax').val())<=parseInt( $('#txtMin').val()))
                    {
                        $('#txtMax').val(parseInt( $('#txtMin').val())+20)
                    }
                    else
                    {
                        $('#txtMax').val(parseInt( $('#txtMax').val()))
                    }  
                }              
            })

        })

        function beep() {
            selectedsoundids = [];
            $(".SoundSelect").each(function(){
                if (this.checked)
                { selectedsoundids.push(this.value);}
            })
        switch(selectedsoundids.length)        
        {
            case 0: 
                play(1);
                break;
            case 1:
                play(selectedsoundids[0]);
                break;
            default:                
                play(selectedsoundids[Math.floor( Math.random() * selectedsoundids.length)]);
                console.log(selectedsoundids );
        }
      
        
         
            if (Number($('#txtMin').val()))
            {
               minTime= parseInt($('#txtMin').val());
            }
            else
            { minTime = 20;}
            if (Number($('#txtMax').val())) {
               maxTime= parseInt( $('#txtMax').val());
            }
            else { maxTime = 20; }

            waitTime = (Math.round(Math.random() * (maxTime -minTime)) + minTime) * 1000
           myTimeout = setTimeout(beep, waitTime);
            $('#divArea').html("Stop");
            console.log(waitTime);
        }

function play(intItem){
                console.log( 'PLAYING ' + intItem );
                ( new Audio(sounds[intItem])).play();
}
    </script>
    <style type="text/css">
        .button {
            padding: 10px;
            margin:5px;
            font-size: 20pt;
            background-color: #000;
            color:#fff;
            display:inline-block;
            border-radius: 5px;            
        }

        .button-selected {
            padding: 10px;
            margin: 0px;
            vertical-align: middle;
            background-color: Gray;
            font-size: 20pt;
        }

    
      
    </style>
</head>
<body>
    <div style="text-align:center; width:100%; height:auto;">
        <div class="button" id="divArea">
            Start
        </div>
        <div id="divSettings">
            Minimum Wait (seconds)<input type="number" value="45" id="txtMin" /><br />
            Maximum Wait (seconds)<input type="number" value="100" id="txtMax" />
        </div>
     
        <div id="divSounds" style="width:" >
            Tap each button to hear the sound.
            Check any sounds you would like included in the alert.<br />
<input type="checkbox" id="ckbBike" value="0" class="SoundSelect" />
<div class="button" onclick="play(0)">Bike Horn</div>
<br />
<input type="checkbox" id="ckbTiny" value="1" checked=true class="SoundSelect" />
<div class="button" onclick="play(1)">Tiny Car Horn</div>
<br />
<input type="checkbox" id="ckbBoing" value="2" class="SoundSelect" />
<div class="button" onclick="play(2)">Boing</div>
<br />
<input type="checkbox" id="ckbBlink" value="3" class="SoundSelect" />
<div class="button" onclick="play(3)">Eye Blink</div>
<br />
<input type="checkbox" id="ckbJeep" value="4" class="SoundSelect" />
<div class="button" onclick="play(4)">Jeep Horn</div>
<br />
<input type="checkbox" id="ckbLibrary" value="5" class="SoundSelect" />
<div class="button" onclick="play(5)">Library Bell</div>

</div>
</div>
</body>


    
</html>